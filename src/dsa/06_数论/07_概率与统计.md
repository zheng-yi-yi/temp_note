---
title: 概率与期望
category: 算法
order: 7
icon: tabler:math-symbols
---

## 离散概率

如果有 $n$ 个相互独立的事件，他们同时发生的概率是他们各自发生概率的乘积。

假设有 $n$ 个事件，分别记为 $E_1, E_2, ..., E_n$，且这些事件是相互独立的。如果 $E_1$ 的发生概率是 $p_1$，$E_2$ 的发生概率是 $p_2$，...，$E_n$ 的发生概率是 $p_n$，那么这 $n$ 个事件同时发生的概率 $P(E_1 ∩ E_2 ∩ ... ∩ E_n)$ 就是 $p_1 \cdot p_2  ...  p_n$。

### 条件概率

条件概率是一种概率测度，它描述了在给定某个事件发生的情况下，另一个事件发生的概率。

假设我们有两个事件 $A$ 和 $B$，且事件 $B$ 的概率不为 $0$（即$P(B) ≠ 0$），那么在给定事件$B$发生的情况下，事件 $A$ 发生的条件概率记为 $P(A|B)$ ，可以用以下公式计算：

- $P(A|B) = P(A ∩ B) / P(B)$

也就是说，事件 $A$ 和事件 $B$ 同时发生的概率除以事件 $B$ 发生的概率，就等于在给定事件 $B$ 发生的情况下，事件 $A$ 发生的条件概率。

::: tip

两个事件 $AB$ 独立，则  $P(A ∩ B) = P(A)P(B)$

:::

### 贝叶斯公式

假设我们有两个事件 $A$ 和 $B$，贝叶斯定理可以用以下公式表示：

- $P(A|B) = P(B|A) \cdot P(A) / P(B)$

也就是说，在给定事件 $B$ 发生的情况下，事件 $A$ 发生的概率等于在给定事件 $A$ 发生的情况下，事件 $B$ 发生的概率乘以事件 $A$ 发生的概率，再除以事件 $B$ 发生的概率。

### 全概率公式

假设有一系列事件 $B_1, B_2, ..., B_n$ ，它们是互斥的（即任意两个事件不可能同时发生），并且它们的并集构成了整个样本空间（即至少有一个 $B_i$会发生）。那么对于任何事件 $A$，全概率公式可以表示为：

- $P(A) = P(A|B_1)P(B_1) + P(A|B_2)P(B_2) + ... + P(A|B_n)P(B_n)$

也就是说，事件 $A$ 发生的概率等于在每个 $B_i$ 发生的条件下，事件 $A$ 发生的概率乘以 $B_i$ 发生的概率，然后将这些乘积相加。

## 数学期望

### EX

数学期望对随机变量可能取值的加权平均，反映了随机变量取值的平均水平。

对于离散型随机变量，如果其概率分布为 $P(X=x)$，那么数学期望 $E(X)$ 定义为所有可能的 $x$ 值与其对应的概率的乘积之和，即 $E(X) = ΣxP(X=x)$。对于连续型随机变量，数学期望定义为所有可能的 $x$ 值与其对应的概率密度的乘积的积分，即 $E(X) = ∫xf(x)dx$。

::: tip

随机变量 $X$ 的数学期望 $EX$ 就是所有可能值按照概率加权的和。 例如某个随机变量有 $\frac{1}{2}$ 概率等于 $10$， $\frac{1}{3}$ 的概率等于 $60$， $\frac{1}{6}$ 的概率等于 $30$，那么这个随机变量的数学期望为 $10 \cdot \frac{1}{2} + 60 \cdot \frac{1}{3} + 30 \cdot \frac{1}{6} = 30$。

:::

### 期望的线性性质

期望的线性性质是指，对于任意的随机变量 $X$、$Y$ 和任意的常数 $a$、$b$，都有 $E(aX + bY) = aE(X) + bE(Y)$。这个性质说明，期望运算对于加法和乘法是线性的。

::: tip

有限个随机变量之和的数学期望等于每个随机变量的数学期望之和。

:::

### 全期望公式

全期望公式提供了一种在已知随机变量的条件期望的情况下，求解随机变量的无条件期望的方法。类似全概率公式，把所有情况不重复、不遗漏地分为若干类，每类计算数学期望，最后按照每类的概率加权求和。