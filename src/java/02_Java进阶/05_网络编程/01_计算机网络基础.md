---
title: 首页
category: Java
tag:
  - 计算机网络
order: 1
---

## 1. 计算机网络

计算机网络是由多个计算机设备通过通信线路相互连接形成的网络系统。这些设备可以使用有线或无线技术相互通信，共享资源、数据和应用程序。计算机网络允许用户进行电子邮件、文件传输、远程访问、在线游戏、网页浏览等多种形式的交流和数据共享。

计算机网络的基本组成包括：

- **终端设备**：如个人计算机、智能手机、平板电脑等。
- **网络设备**：如路由器、交换机、中继器等，用于数据传输和路由选择。
- **通信介质**：如双绞线、光纤、无线电波等，用于数据传输。
- **网络协议**：如TCP/IP、HTTP、FTP等，定义了数据通信的规则和格式。

::: tip

在一个计算机网络中，任意两台计算机可以直接通信，因为它们使用相同的网络协议。

:::

计算机网络按照不同的标准可以分为多种类型，常见的有：

- **局域网（LAN）**：覆盖小范围内（如一个办公室、一个建筑物）的网络。
- **城域网（MAN）**：覆盖城市范围内的网络。
- **广域网（WAN）**：覆盖广泛地区（如跨城市、跨国家）的网络。
- **互联网**：通过广域网连接起来的全球性网络系统，是最大的计算机网络。

计算机网络的发展极大地促进了信息的快速传播、资源共享和远程协作，是现代社会信息技术的重要基础设施。

**互联网**是由多个计算机网络连接而成的全球网络。由于不同的网络可能使用不同的通信协议，要将这些网络连接成互联网，就必须使用统一的协议——**TCP/IP协议**。TCP/IP协议是互联网协议，其中最重要的是TCP（传输控制协议）和IP（互联网协议）。

## 2. IP地址

### 2.1 是什么？

IP地址（Internet Protocol Address）是分配给每个连接到计算机网络上的设备的数字标签。它用于设备之间的识别和通信。在网络中，为了使设备能够互相通信，每个设备至少需要一个唯一的IP地址。

IP地址有两个主要版本：

1. **IPv4（Internet Protocol version 4）**：是目前最广泛使用的版本，采用32位地址长度，通常表示为四个十进制数字组成的序列，每个数字范围从0到255，各数字之间用点（.）分隔，例如192.168.1.1。

2. **IPv6（Internet Protocol version 6）**：由于互联网的迅速发展，IPv4地址的数量已经无法满足需求（共有约42亿个地址，目前已基本耗尽），因此开发了IPv6。IPv6地址采用128位地址长度，表示为八组四个十六进制数，每组之间用冒号（:）分隔，例如2001:0db8:85a3:0000:0000:8a2e:0370:7334。IPv6能提供更多的地址空间。

IP地址分为两部分：网络地址和主机地址。网络地址标识特定的网络，而主机地址标识该网络上的特定设备。这种结构允许路由器有效地将数据包路由到正确的目的地网络和设备。

IP地址可以是静态的（手动分配并固定不变）或动态的（通过网络服务如DHCP自动分配，可能会变化）。动态IP地址适用于家庭用户和小型企业，因为它们简化了网络管理。静态IP地址通常用于服务器和重要的网络设备，这些设备需要持续不变的地址以保证可靠的服务访问。

一个特殊的IP地址是**本机地址**，总是127.0.0.1，用于指向本地计算机。

### 2.2 公网与内网

公网IP地址是在整个互联网上唯一的，可以直接访问互联网上的任何设备。任何互联网上的设备都可以使用公网IP地址来访问被分配了该地址的设备，因此，公网IP地址通常分配给需要从互联网上直接访问的服务器和设备，如网站服务器、邮件服务器等。

内网IP地址是在私有网络内部使用的，仅在特定的局域网（LAN）中唯一。这些地址不能直接用于互联网上的设备之间的通信。内网IP地址通常由路由器自动分配给连接到家庭或企业网络的设备。内网IP地址的范围是由Internet Assigned Numbers Authority (IANA)专门保留的，不会在互联网上分配给个人或组织，常见的内网IP地址范围包括192.168.x.x、10.x.x.x、172.16.x.x至172.31.x.x。

### 2.3 子网和网络号

#### （1）概述

子网（Subnet）是将一个较大的网络划分成若干个较小的、逻辑上分隔的网络。每个子网都有自己的唯一网络地址。通过子网化，可以将大型网络划分为更小、更易于管理的部分，同时限制广播流量以提高网络性能。

::: tip

子网是通过在IP地址中借用一些主机位来作为网络位来创建的，这通过子网掩码来实现，子网掩码定义了IP地址中哪些部分用于网络地址，哪些部分用于主机地址。

:::

网络号（Network Number）是IP地址中用于标识特定网络的部分。在一个给定的IP地址中，网络号包括了地址的高位部分，而剩余的部分则用于标识该网络内的特定主机。

::: tip

网络号是用来确定一个设备所在的网络。在路由决策中，网络号用于确定数据包应该被发送到哪个网络。

:::

#### （2）举例

在同一个网络中的计算机通过相同的网络号识别彼此。网络号由IP地址和子网掩码计算得出。**子网掩码**（Subnet Mask）是一个与IP地址一样长的32位数字，它用来划分IP地址的网络部分和主机部分，子网掩码的二进制形式是连续的1后面跟随连续的0。通过IP地址和子网掩码的逻辑AND运算，可以计算出网络号。当两台计算机的网络号相同时，它们位于同一个子网内，可以直接进行通信。

例如：

- 计算机A：IP地址101.202.99.2，子网掩码255.255.255.0，网络号101.202.99.0
- 计算机B：IP地址101.202.99.3，子网掩码255.255.255.0，网络号101.202.99.0

由于计算机A和B的网络号都是101.202.99.0，它们可以直接通信。

如果两台计算机的网络号不同，它们不在同一个子网内，不能直接通信。此时，通信必须通过网关（如路由器或交换机）进行。例如：

- 计算机C：IP地址101.202.100.2，子网掩码255.255.255.0，网络号101.202.100.0
- 计算机A：IP地址101.202.99.2，子网掩码255.255.255.0，网络号101.202.99.0

由于计算机A和C的网络号不同（101.202.99.0和101.202.100.0），它们必须通过网关来进行通信。网关的作用是连接多个网络，并负责将数据包从一个网络传输到另一个网络，这个过程称为路由。

## 3. 域名

::: tip

为了方便记忆和访问，使用**域名**来代替IP地址。域名解析服务器（DNS）负责将域名解析为对应的IP地址。

:::

#### （1）概念

**域名**是一种易于记忆和识别的互联网地址，它由一串字符组成，并且由点分隔成不同的部分。例如，域名`www.example.com`由三个部分组成：`www`是主机名，`example`是二级域名，`com`是顶级域名（TLD）。

域名的结构如下：

- **顶级域名（TLD）**：最右边的一部分，如`.com`、`.org`、`.net`、`.cn`等，表示域名的类别或国家。
- **二级域名**：位于顶级域名前面的部分，如`example`。
- **主机名**：二级域名前的部分，如`www`，表示具体的主机或服务。

#### （2）DNS解析

当用户在浏览器中输入域名时，计算机需要将该域名转换为IP地址，这一过程称为**DNS解析**。DNS解析是由域名解析服务器（DNS服务器）完成的。DNS服务器维护着域名与IP地址的映射关系，当收到域名查询请求时，DNS服务器返回相应的IP地址。

DNS解析过程如下：

1. **用户查询**：用户在浏览器中输入域名（如`www.example.com`），浏览器将查询请求发送给本地DNS解析器。
2. **本地DNS解析器查询**：本地DNS解析器首先检查缓存中是否有该域名对应的IP地址，如果有，则直接返回结果；如果没有，则向根DNS服务器发起查询请求。
3. **根DNS服务器响应**：根DNS服务器返回顶级域名服务器的地址给本地DNS解析器。
4. **顶级域名服务器查询**：本地DNS解析器向顶级域名服务器（如`.com`服务器）查询该域名对应的IP地址。
5. **权威DNS服务器响应**：顶级域名服务器返回该域名的权威DNS服务器的地址。
6. **最终查询**：本地DNS解析器向权威DNS服务器查询，得到域名对应的IP地址，并将结果返回给用户。

#### （3）localhost

**localhost**是一个特殊的域名，它总是解析为本机地址`127.0.0.1`。这个域名用于指向当前计算机，常用于测试和开发。当用户在浏览器中输入`localhost`时，计算机将连接到自己，不会通过网络访问其他设备。

## 4. 网络模型

网络模型是理解和设计计算机网络的基础。它们通过将复杂的网络通信过程分解为更小、更易管理的部分来简化网络的设计和实现。

### 4.1 OSI模型

OSI模型（开放系统互连参考模型）是一个理论上的模型，它定义了网络通信的七个层次，每一层都有其特定的功能和协议。

这些层次从底层的物理传输到顶层的应用程序，依次是：

1. **物理层**：负责在物理媒介上传输原始比特流。这包括定义物理设备如何编码、传输数据。
2. **链路层**：在物理层提供的原始数据流之上提供数据帧的传输，包括错误检测和纠正。
3. **网络层**：负责数据包从源到目的地的传输和路由选择，包括IP地址处理和路由选择。
4. **传输层**：提供端到端的通信服务，确保数据的完整性，主要协议有TCP（传输控制协议）和UDP（用户数据报协议）。
5. **会话层**：管理应用程序之间的会话，负责建立、管理和终止会话。
6. **表示层**：确保一个系统发送的信息可以被另一个系统识别和理解，包括数据格式转换、数据加密和解密。
7. **应用层**：为应用程序提供网络服务，如HTTP、FTP、SMTP等协议。

### 4.2 TCP/IP模型

TCP/IP模型是一个更实际的模型，它是互联网的基础。相比于OSI模型的七层，TCP/IP模型简化为四层（或五层，如果将物理层和网络接口层分开考虑）：

1. **应用层**：提供高级的应用程序协议，如HTTP、SMTP、FTP等。它对应于OSI模型的应用层、表示层和会话层。
2. **传输层**：提供端到端的数据传输服务，主要包括TCP和UDP协议，对应于OSI模型的传输层。
3. **网络层（IP层）**：负责数据包的路由和转发，主要协议是IP协议，对应于OSI模型的网络层。
4. **网络接口层**：处理与物理网络的接口问题，包括如何在各种网络技术上发送和接收数据包，对应于OSI模型的链路层和物理层。

### 4.3 对比

- **OSI模型**更偏向于理论，提供了一个更详细的网络通信分层视图，有助于教学和理解网络的各个方面。
- **TCP/IP模型**则更贴近实际应用，它简化了分层，更直接地反映了互联网的工作原理。

## 5. 常用协议

::: tip

**IP协议**是网络层的核心协议，负责数据包的路由和传输。**TCP协议**在传输层提供可靠的、面向连接的服务，适用于要求数据完整性的应用。而**UDP协议**提供快速但不可靠的传输服务，适用于对实时性要求高的应用。

:::

### 5.1 IP协议

**IP协议（Internet Protocol）**是互联网协议套件的核心协议，负责将数据包从源主机传输到目的主机。IP协议定义了数据包的地址和路由方式，使得数据能够跨越多种网络和设备到达目标地址。

**特点**：

- **分组交换**：数据被分割成小的数据包进行传输。
- **无连接**：IP协议不建立持久的连接，每个数据包独立路由。
- **不保证可靠传输**：数据包可能会丢失、重复或到达顺序错乱，不保证数据完整性。

### 5.2 TCP协议

**TCP协议（Transmission Control Protocol）**提供了一种可靠的、面向连接的通信方式。它在IP协议的基础上添加了数据传输的可靠性保证，通过序列号、确认应答、流量控制和拥塞控制等机制来确保数据正确、有序地传输。

**特点**：

- **面向连接**：通信双方在数据传输前需要建立连接。
- **可靠传输**：通过确认应答和超时重传机制保证数据的正确传输。
- **双向通信**：一旦建立连接，双方都可以发送和接收数据。
- **流量控制和拥塞控制**：动态调整数据传输速率，避免网络拥塞。

### 5.3 UDP协议

**UDP协议（User Datagram Protocol）**是一种简单的无连接传输层协议，提供了基本的数据包传输功能，但不保证可靠性、顺序或数据完整性。UDP适用于对实时性要求高、可以容忍一定数据丢失的应用场景。

**特点**：

- **无连接**：发送数据前不需要建立连接，减少了开销和延迟。
- **高效率**：由于缺乏可靠性保证的机制，UDP的头部开销小，处理速度快。
- **不保证可靠传输**：数据包可能丢失或顺序错乱，应用层需要自行处理这些问题。
- **应用场景**：广泛用于视频会议、直播等场景。